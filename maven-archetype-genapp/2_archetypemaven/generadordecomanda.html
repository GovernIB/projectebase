<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ca"  lang="ca">
<head>
 <meta charset="utf-8">
 
 <script>
  
  function projectnameChange() {
    
      var projectname = document.getElementById("projectname").value;
      var pbase = document.getElementById("packagebase").value;
      var prefix = document.getElementById("prefix").value;
      var version = document.getElementById("version").value;
      var perfilWS = document.getElementById("generarws").checked;
      var perfilBack = document.getElementById("generarback").checked;
      
      
      
      
     var projectnamelowercase = projectname.toLowerCase();
     var projectnameuppercase = projectname.toUpperCase();
  
     var packageStr = pbase + "." + projectnamelowercase;
     document.getElementById("package").value= packageStr;
     document.getElementById("artifactid").value= projectnamelowercase;
     document.getElementById("groupid").value= packageStr;
   
     var packagepath = packageStr.replace('.','/');
     while(packagepath.indexOf(".") != -1) {       
       packagepath = packagepath.replace('.','/');
     }
     
    
   
  var gen = "mvn archetype:generate -B -DarchetypeGroupId=es.caib.projectebase.archetype"
    + " -DarchetypeArtifactId=projectebase-archetype -DarchetypeVersion=1.0.0"
    + " -Dpackage=" + packageStr + " -Dpackagepath=" +packagepath 
    + " -DgroupId=" + packageStr + " -DartifactId=" + projectnamelowercase
    + " -Dversion=" + version + " -Dprojectname=" + projectname
    + " -Dprojectnameuppercase=" + projectnameuppercase + " -Dprefix=" + prefix
    + " -Dprefixuppercase=" + prefix.toUpperCase() 
    + " -DperfilWS=" + perfilWS  + " -DperfilBack=" + perfilBack;


    document.getElementById("maven").value= gen;
   }
  
  
</script>
 
</head>
<body>

<h1 style="color: #5e9ca0;">Generador de Projectes per CAIB</h1>
<h2 style="color: #2e6c80;">Dades:</h2>
<table style="width: 538px;" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td style="width: 130px;">Nom del Projecte:&nbsp;</td>
<td style="width: 402px;"><input size=60  id="projectname" type="text" value="ProjecteBaseExemple" onkeyup="projectnameChange()" /></td>
</tr>
<tr>
<td style="width: 130px;">Package Base</td>
<td style="width: 402px;"><input size=60  id="packagebase" type="text" value="es.caib" onkeyup="projectnameChange()" /></td>
</tr>
<tr>
<td style="width: 130px;">Prefix (3 char)</td>
<td style="width: 402px;"><input size=60  id="prefix" type="text" value="ebe" onkeyup="projectnameChange()" /></td>
</tr>

<tr>
<td style="width: 130px;">Version</td>
<td style="width: 402px;"><input size=60  id="version" type="text" value="1.0.0" onkeyup="projectnameChange()"  /></td>
</tr>
<tr>
<td style="width: 130px;">Generar Back</td>
<td style="width: 402px;"><input size=60  id="generarback" checked="checked" type="checkbox" onchange="projectnameChange()" /></td>
</tr>
<tr>
<td style="width: 130px;">Generar WS</td>
<td style="width: 402px;"><input size=60  id="generarws" checked="checked" type="checkbox" onchange="projectnameChange()" /></td>
</tr>

</table>

<!--
<tr>
<td style="width: 130px;">Desenvolupament</td>
<td style="width: 402px;"><input size=60  id="desenvolupament" type="checkbox" onchange="projectnameChange()" /></td>
</tr>


<td style="width: 130px;">BBDD Driver</td>
<td style="width: 402px;"><input readonly="readonly" type="text" value="org.postgresql.Driver" /></td>
</tr>
<tr>
<td style="width: 130px;">BBDD URL</td>
<td style="width: 402px;"><input size=60  id="bbdd_url" readonly="readonly" type="text" value="jdbc:postgresql://localhost:5432/projectebase" /></td>
</tr>
<tr>
<td style="width: 130px;">BBDD Username</td>
<td style="width: 402px;"><input size=60  id="bbdd_username" readonly="readonly" type="text" value="username" /></td>
</tr>
<tr>
<td style="width: 130px;">BBDD Password</td>
<td style="width: 402px;"><input size=60  id="bbdd_password" readonly="readonly" type="text" value="password" /></td>
</tr>
<tr>
<td style="width: 130px;">Idiomes</td>
<td style="width: 402px;"><input size=60  id="idiomes" readonly="readonly" type="text" value="ca,es" /></td>
</tr>
<tr>
<td style="width: 130px;">Modul Seguretat</td>
<td style="width: 402px;"><input size=60  id="idiomes" readonly="readonly" type="text" value="seycon" /></td>
</tr>
-->
<h2 style="color: #2e6c80;">Dades Generades (només lectura)</h2>
<table style="width: 538px;" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td style="width: 130px;">Package</td>
<td style="width: 402px;"><input size=60  id="package" readonly="readonly" type="text" value="es.caib.projectebase" /></td>
</tr>
  <tr>
<td style="width: 130px;">Artifact ID</td>
<td style="width: 402px;"><input size=60  id="artifactid" readonly="readonly" type="text" value="projectebase" /></td>
</tr>
<tr>
<td style="width: 130px;">Group ID</td>
<td style="width: 402px;"><input size=60  id="groupid" readonly="readonly" type="text" value="es.caib.projectebase" /></td>
</tr>

</tbody>
</table>
<h2 style="color: #2e6c80;">Comanda a Executar per generar el projecte:</h2>


<textarea id="maven" cols="110" readonly="readonly" rows="4"></textarea></p>

<div id="afegirrepositori">
<p style="color:#FF0000";><b>Requereix afegir el següent codi a dins [HOME]/.m2/settings.xml</b></p>
<textarea readonly="readonly" style="color:#ff0000;" cols="70" readonly="readonly" rows="15" >
  <profiles>
    <profile>
      <id>repositorigovernib</id>
      <repositories>
        <repository>
          <id>github-governib-maven</id>
          <name>GitHub GovernIB Maven Repository</name>
          <url>https://governib.github.io/maven/maven/</url>
        </repository>
      </repositories>
    </profile>
  </profiles>
  <activeProfiles>
    <activeProfile>repositorigovernib</activeProfile>
  </activeProfiles></textarea>
</div>

<script>
   projectnameChange();
</script>



</body>
</html>
