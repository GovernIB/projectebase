<ui:composition template="/WEB-INF/template/template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:jsf="http://xmlns.jcp.org/jsf">

    <ui:param name="title" value="Exemple enviament anotacions a Distribució" />

    <ui:define name="metadata">
        <f:metadata>
            <f:importConstants type="es.caib.projectebase.distribucio.TipusAnotacio" var="tipusAnotacio" />
            <f:importConstants type="es.caib.projectebase.distribucio.IdiomaAnotacio" var="idiomaAnotacio" />
        </f:metadata>
    </ui:define>


    <ui:define name="content">
        <div class="row">
            <div class="col">
                <h:messages id="messages" globalOnly="true" showDetail="true" errorStyle="color: red"
                    infoStyle="color: green" warnStyle="color: yellow" />
            </div>
        </div>

        <h:form id="bustiaForm" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-6">
                    <h3>Dades de l'anotació:</h3>
                    <div class="form-row">
                        <div class="form-group col">
                            <fieldset>
                                <legend class="col-form-label">Tipus anotació</legend>
                                <ui:repeat id="tipusRadio" value="#{tipusAnotacio.values()}" var="tipus">
                                    <div class="form-check">
                                        <h:selectOneRadio id="tipus" group="tipusGroup"
                                            value="#{bustiaController.model.tipus}" styleClass="form-check-input">
                                            <f:selectItem itemValue="${tipus}" />
                                        </h:selectOneRadio>
                                        <h:outputLabel for="tipus" styleClass="form-check-label" value="#{tipus}" />
                                    </div>
                                </ui:repeat>
                            </fieldset>
                        </div>
                        <div class="form-group col">
                            <fieldset>
                                <legend class="col-form-label">Idioma</legend>
                                <ui:repeat id="idiomaRadio" value="#{idiomaAnotacio.values()}" var="idioma">
                                    <div class="form-check">
                                        <h:selectOneRadio id="idioma" group="idiomaGroup"
                                            value="#{bustiaController.model.idioma}" styleClass="form-check-input">
                                            <f:selectItem itemValue="${idioma}" />
                                        </h:selectOneRadio>
                                        <h:outputLabel for="idioma" styleClass="form-check-label"
                                            value="#{idioma.label}" />
                                    </div>
                                </ui:repeat>
                            </fieldset>
                        </div>
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="extracte">Extracte</h:outputLabel>
                        <h:inputTextarea id="extracte" value="#{bustiaController.model.extracte}" rows="3"
                            styleClass="form-control" />
                        <h:message for="extracte" errorStyle="color: red" />
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <h:outputLabel for="entitat">Entitat</h:outputLabel>
                            <h:inputText id="entitat" value="#{bustiaController.model.entitat}"
                                styleClass="form-control" />
                            <h:message for="entitat" errorStyle="color: red" />
                        </div>
                        <div class="form-group col">
                            <h:outputLabel for="unitat">Unitat</h:outputLabel>
                            <h:inputText id="unitat" value="#{bustiaController.model.unitat}" styleClass="form-control" />
                            <h:message for="unitat" errorStyle="color: red" />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <h:outputLabel for="oficina">Oficina</h:outputLabel>
                            <h:inputText id="oficina" value="#{bustiaController.model.oficina}"
                                styleClass="form-control" />
                            <h:message for="oficina" errorStyle="color: red" />
                        </div>
                        <div class="form-group col">
                            <h:outputLabel for="llibre">Llibre</h:outputLabel>
                            <h:inputText id="llibre" value="#{bustiaController.model.llibre}" styleClass="form-control" />
                            <h:message for="llibre" errorStyle="color: red" />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <h:outputLabel for="procedimentCodi">Codi procediment</h:outputLabel>
                            <h:inputText id="procedimentCodi" value="#{bustiaController.model.procedimentCodi}"
                                styleClass="form-control" />
                            <h:message for="procedimentCodi" errorStyle="color: red" />
                        </div>
                    </div>
                    <h:commandButton action="#{bustiaController.crearAnotacio()}" styleClass="btn btn-primary"
                        value="Crear anotació">
                        <f:ajax execute="@form" render=":messages @form" />
                    </h:commandButton>
                </div>
                <div class="col-md-6">
                    <h3>Dades de l'interessat</h3>
                    <div class="form-row">
                        <div class="form-group col">
                            <h:outputLabel for="interessatNif">NIF</h:outputLabel>
                            <h:inputText id="interessatNif" value="#{bustiaController.model.interessatNif}"
                                styleClass="form-control" />
                            <h:message for="interessatNif" errorStyle="color: red" />
                        </div>
                        <div class="form-group col">
                            <h:outputLabel for="interessatNom">Nom</h:outputLabel>
                            <h:inputText id="interessatNom" value="#{bustiaController.model.interessatNom}"
                                styleClass="form-control" />
                            <h:message for="interessatNom" errorStyle="color: red" />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <h:outputLabel for="interessatPrimerLlinatge">Primer llinatge</h:outputLabel>
                            <h:inputText id="interessatPrimerLlinatge"
                                value="#{bustiaController.model.interessatPrimerLlinatge}" styleClass="form-control" />
                            <h:message for="interessatPrimerLlinatge" errorStyle="color: red" />
                        </div>
                        <div class="form-group col">
                            <h:outputLabel for="interessatSegonLlinatge">Segon llinatge</h:outputLabel>
                            <h:inputText id="interessatSegonLlinatge"
                                value="#{bustiaController.model.interessatSegonLlinatge}" styleClass="form-control" />
                            <h:message for="interessatSegonLlinatge" errorStyle="color: red" />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <h:outputLabel for="interessatPais">País</h:outputLabel>
                            <h:inputText id="interessatPais" value="#{bustiaController.model.interessatPais}"
                                styleClass="form-control" />
                            <h:message for="interessatPais" errorStyle="color: red" />
                        </div>
                        <div class="form-group col">
                            <h:outputLabel for="interessatProvincia">Provincia</h:outputLabel>
                            <h:inputText id="interessatProvincia" value="#{bustiaController.model.interessatProvincia}"
                                styleClass="form-control" />
                            <h:message for="interessatProvincia" errorStyle="color: red" />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <h:outputLabel for="interessatMunicipi">Municipi</h:outputLabel>
                            <h:inputText id="interessatMunicipi" value="#{bustiaController.model.interessatMunicipi}"
                                styleClass="form-control" />
                            <h:message for="interessatMunicipi" errorStyle="color: red" />
                        </div>
                        <div class="form-group col">
                            <h:outputLabel for="interessatAdresa">Adreça</h:outputLabel>
                            <h:inputText id="interessatAdresa" value="#{bustiaController.model.interessatAdresa}"
                                styleClass="form-control" />
                            <h:message for="interessatAdresa" errorStyle="color: red" />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <h:outputLabel for="interessatCodiPostal">Codi Postal</h:outputLabel>
                            <h:inputText id="interessatCodiPostal"
                                value="#{bustiaController.model.interessatCodiPostal}" styleClass="form-control" />
                            <h:message for="interessatCodiPostal" errorStyle="color: red" />
                        </div>
                        <div class="form-group col">
                            <h:outputLabel for="interessatEmail">Email</h:outputLabel>
                            <h:inputText id="interessatEmail" value="#{bustiaController.model.interessatEmail}"
                                styleClass="form-control" />
                            <h:message for="interessatEmail" errorStyle="color: red" />
                        </div>
                    </div>
                    <h3>Documentació a annexar</h3>
                    <div class="form-group">
                        <h:outputLabel for="annex">Annex</h:outputLabel>
                        <h:inputFile id="annex" value="#{bustiaController.model.annex}"
                                     styleClass="form-control-file"/>
                        <h:message for="annex" errorStyle="color: red"/>
                    </div>
                </div>
            </div>
        </h:form>

    </ui:define>
</ui:composition>
